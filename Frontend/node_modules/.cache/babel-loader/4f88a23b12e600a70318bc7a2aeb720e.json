{"ast":null,"code":"var _jsxFileName = \"/Users/shruthi/Documents/SEM_1/HR-Management-System/Frontend/src/component/Department.jsx\";\nimport React, { Component } from \"react\";\nimport \"./Department.css\";\nimport axios from \"axios\";\nimport DepartmentTable from \"./DepartmentTable.jsx\";\nimport DepartmentForm from \"./DepartmentForm.jsx\";\nimport DepartmentFormEdit from \"./DepartmentFormEdit.jsx\"; // import { HashRouter as Router, Route, Link } from \"react-router-dom\";\n// function DepartmentTableF() {\n//   return <DepartmentTable/>;\n// }\n// function DepartmentFormF() {\n//   return  <DepartmentForm onDepartmentSubmit={handleDepartmentSubmit}/>;\n// }\n// function handleDepartmentSubmit(e) {\n//   e.preventDefault();\n//   console.log(e);\n// }\n\nclass Department extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      table: true,\n      editForm: false,\n      editData: {}\n    };\n\n    this.handleDepartmentSubmit = event => {\n      event.preventDefault();\n      console.log(\"id\", event.target[0].value, event.target[1].value);\n      this.setState({\n        table: true\n      });\n      let body = {\n        CompanyID: event.target[0].value,\n        DepartmentName: event.target[1].value\n      }; //  let body= \"CompanyID=\" + event.target[0].value + \"&Department=\" + event.target[1].value;\n      //  let body= \"FenilKaneria\";\n\n      axios.post(\"http://localhost:4000\" + \"/api/department\", body, {\n        headers: {\n          authorization: localStorage.getItem(\"token\") || \"\"\n        }\n      }).then(res => {\n        this.setState({\n          table: false\n        });\n        this.setState({\n          table: true\n        });\n      }).catch(err => {\n        console.log(err);\n      }); // this.setState({ loading: true });\n      // this.login(event.target[0].value, event.target[1].value);\n      // event.target.reset();\n    };\n\n    this.handleAddDepartment = () => {\n      console.log(\"clicked1\");\n      this.setState({\n        table: false\n      });\n    };\n\n    this.handleEditDepartment = e => {\n      console.log(e);\n      console.log(\"clicked6\");\n      this.setState({\n        editForm: true\n      });\n      this.setState({\n        editData: e\n      });\n    };\n\n    this.handleFormClose = () => {\n      console.log(\"clicked1\");\n      this.setState({\n        table: true\n      });\n    };\n\n    this.handleEditFormClose = () => {\n      console.log(\"clicked5\");\n      this.setState({\n        editForm: false\n      });\n    };\n\n    this.handleFormClose = () => {\n      console.log(\"clicked1\");\n      this.setState({\n        table: true\n      });\n    };\n\n    this.handleDepartmentEditUpdate = (info, newInfo) => {\n      newInfo.preventDefault(); // this.setState({ table: true });\n\n      let body = {\n        // ...info,CompanyID:formData1,Department:formData2\n        CompanyID: newInfo.target[0].value,\n        DepartmentName: newInfo.target[1].value\n      };\n      console.log(\"update\", body);\n      axios.put(process.env.REACT_APP_API_URL + \"/api/department/\" + info[\"_id\"], body, {\n        headers: {\n          authorization: localStorage.getItem(\"token\") || \"\"\n        }\n      }).then(res => {\n        // this.componentDidMount();\n        this.setState({\n          table: false\n        });\n        this.setState({\n          table: true\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n      this.setState({\n        editForm: false\n      });\n    };\n  }\n\n  render() {\n    // let value=(this.props.pass) ? undefined : \"\";<i class=\"fas fa-plus\"></i>\n    return (//  <Router>\n      React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, this.state.table ? this.state.editForm ? React.createElement(DepartmentFormEdit, {\n        onDepartmentEditUpdate: this.handleDepartmentEditUpdate,\n        onFormEditClose: this.handleEditFormClose,\n        editData: this.state.editData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }) : React.createElement(DepartmentTable, {\n        onAddDepartment: this.handleAddDepartment,\n        onEditDepartment: this.handleEditDepartment,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }) : React.createElement(DepartmentForm, {\n        onDepartmentSubmit: this.handleDepartmentSubmit,\n        onFormClose: this.handleFormClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      })) //  </Router>\n\n    );\n  }\n\n}\n\nexport default Department;","map":{"version":3,"sources":["/Users/shruthi/Documents/SEM_1/HR-Management-System/Frontend/src/component/Department.jsx"],"names":["React","Component","axios","DepartmentTable","DepartmentForm","DepartmentFormEdit","Department","state","table","editForm","editData","handleDepartmentSubmit","event","preventDefault","console","log","target","value","setState","body","CompanyID","DepartmentName","post","headers","authorization","localStorage","getItem","then","res","catch","err","handleAddDepartment","handleEditDepartment","e","handleFormClose","handleEditFormClose","handleDepartmentEditUpdate","info","newInfo","put","process","env","REACT_APP_API_URL","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Department.css\";\nimport axios from \"axios\";\nimport DepartmentTable from \"./DepartmentTable.jsx\";\nimport DepartmentForm from \"./DepartmentForm.jsx\";\nimport DepartmentFormEdit from \"./DepartmentFormEdit.jsx\";\n// import { HashRouter as Router, Route, Link } from \"react-router-dom\";\n\n// function DepartmentTableF() {\n//   return <DepartmentTable/>;\n// }\n// function DepartmentFormF() {\n//   return  <DepartmentForm onDepartmentSubmit={handleDepartmentSubmit}/>;\n// }\n\n// function handleDepartmentSubmit(e) {\n//   e.preventDefault();\n//   console.log(e);\n\n// }\n\nclass Department extends Component {\n  state = {\n    table: true,\n    editForm: false,\n    editData: {}\n  };\n\n  render() {\n    // let value=(this.props.pass) ? undefined : \"\";<i class=\"fas fa-plus\"></i>\n    return (\n      //  <Router>\n      <React.Fragment>\n        {this.state.table ? (\n          this.state.editForm ? (\n            <DepartmentFormEdit\n              onDepartmentEditUpdate={this.handleDepartmentEditUpdate}\n              onFormEditClose={this.handleEditFormClose}\n              editData={this.state.editData}\n            />\n          ) : (\n              <DepartmentTable\n                onAddDepartment={this.handleAddDepartment}\n                onEditDepartment={this.handleEditDepartment}\n              />\n            )\n        ) : (\n            <DepartmentForm\n              onDepartmentSubmit={this.handleDepartmentSubmit}\n              onFormClose={this.handleFormClose}\n            />\n          )}\n\n        {/* <div>fenil</div> */}\n        {/* <Route path=\"/admin/Department/table\" exact component={DepartmentTable} /> */}\n        {/* <Route path=\"/admin/Department/form\" exact component={() => <DepartmentForm onDepartmentSubmit={this.handleDepartmentSubmit} />} /> */}\n\n        {/* <DepartmentTable/> */}\n      </React.Fragment>\n\n      //  </Router>\n    );\n  }\n  handleDepartmentSubmit = event => {\n    event.preventDefault();\n    console.log(\"id\", event.target[0].value, event.target[1].value);\n    this.setState({ table: true });\n\n    let body = {\n      CompanyID: event.target[0].value,\n      DepartmentName: event.target[1].value\n    };\n    //  let body= \"CompanyID=\" + event.target[0].value + \"&Department=\" + event.target[1].value;\n    //  let body= \"FenilKaneria\";\n    axios\n      .post(\"http://localhost:4000\" + \"/api/department\", body, {\n        headers: {\n          authorization: localStorage.getItem(\"token\") || \"\"\n        }\n      })\n      .then(res => {\n        this.setState({ table: false });\n        this.setState({ table: true });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n    // this.setState({ loading: true });\n    // this.login(event.target[0].value, event.target[1].value);\n    // event.target.reset();\n  };\n  handleAddDepartment = () => {\n    console.log(\"clicked1\");\n    this.setState({ table: false });\n  };\n  handleEditDepartment = e => {\n    console.log(e);\n    console.log(\"clicked6\");\n    this.setState({ editForm: true });\n    this.setState({ editData: e });\n  };\n  handleFormClose = () => {\n    console.log(\"clicked1\");\n    this.setState({ table: true });\n  };\n  handleEditFormClose = () => {\n    console.log(\"clicked5\");\n    this.setState({ editForm: false });\n  };\n  handleFormClose = () => {\n    console.log(\"clicked1\");\n    this.setState({ table: true });\n  };\n  handleDepartmentEditUpdate = (info, newInfo) => {\n    newInfo.preventDefault();\n    // this.setState({ table: true });\n    let body = {\n      // ...info,CompanyID:formData1,Department:formData2\n\n      CompanyID: newInfo.target[0].value,\n      DepartmentName: newInfo.target[1].value,\n    };\n    console.log(\"update\", body);\n    axios\n      .put(\n        process.env.REACT_APP_API_URL + \"/api/department/\" + info[\"_id\"],\n        body, {\n        headers: {\n          authorization: localStorage.getItem(\"token\") || \"\"\n        }\n      }\n      )\n      .then(res => {\n        // this.componentDidMount();\n        this.setState({ table: false });\n        this.setState({ table: true });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n\n    this.setState({ editForm: false });\n  };\n}\n\nexport default Department;\n"]},"metadata":{},"sourceType":"module"}