{"ast":null,"code":"var _jsxFileName = \"/Users/shruthi/Documents/SEM_1/HR-Management-System/Frontend/src/component/Employee.jsx\";\nimport React, { Component } from \"react\";\nimport \"./Employee.css\";\nimport axios from \"axios\";\nimport EmployeeTable from \"./EmployeeTable.jsx\";\nimport EmployeeForm from \"./EmployeeForm.jsx\";\nimport EmployeeFormEdit from \"./EmployeeFormEdit.jsx\";\nimport EmployeeInfo from \"./EmployeeInfo.jsx\";\nimport { HashRouter as Router, Route } from \"react-router-dom\";\nimport PersonalInfo from \"./employee/PersonalInfo.jsx\";\nimport Education from \"./employee/Education.jsx\";\nimport FamilyInfo from \"./employee/FamilyInfo.jsx\";\nimport WorkExperience from \"./employee/WorkExperience.jsx\"; //import { MongooseDocument } from \"mongoose\";\n\nimport moment from 'moment';\n\nclass Employee extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      table: true,\n      editForm: false,\n      editData: {},\n      addFormGender: \"\",\n      editFormGender: \"\",\n      EmpInfo: {},\n      EmpInfoBool: false\n    };\n\n    this.handleEmpInfo = e => {\n      console.log(\"info\", e); // history.push(\"/hr/employee/form-edit\");\n\n      this.setState({\n        EmpInfo: e\n      });\n      this.setState({\n        EmpInfoBool: true\n      });\n    };\n\n    this.handleBack = () => {\n      console.log(\"back\");\n      this.setState({\n        EmpInfoBool: false\n      });\n    };\n\n    this.handleEmployeeSubmit = event => {\n      console.log(\"handleEmployee\");\n      event.preventDefault();\n      console.log(\"id\", event.target[0].value, event.target[1].value);\n      this.setState({\n        table: true\n      });\n      let body = {\n        Email: event.target[0].value,\n        Password: event.target[1].value,\n        Account: event.target[2].value,\n        RoleID: event.target[3].value,\n        Gender: this.state.addFormGender,\n        FirstName: event.target[6].value,\n        MiddleName: event.target[7].value,\n        LastName: event.target[8].value,\n        DOB: event.target[9].value,\n        ContactNo: event.target[10].value,\n        EmployeeCode: event.target[11].value,\n        DepartmentID: event.target[12].value,\n        //PositionID: event.target[13].value,\n        DateOfJoining: moment().format(\"YYYY-MM-DD\"),\n        TerminateDate: event.target[15].value\n      };\n      axios.post(\"http://localhost:4000\" + \"/api/employee\", body, {\n        headers: {\n          authorization: localStorage.getItem(\"token\") || \"\"\n        }\n      }).then(res => {\n        console.log(\"result from post\", res);\n        this.setState({\n          table: false\n        });\n        this.setState({\n          table: true\n        });\n      }).catch(err => {\n        console.log(\"Errr from post\", err);\n      });\n    };\n\n    this.handleAddEmployee = () => {\n      console.log(\"clicked1\");\n      this.setState({\n        table: false\n      });\n    };\n\n    this.handleEditEmployee = e => {\n      console.log(e);\n      console.log(\"clicked6\");\n      this.setState({\n        editForm: true\n      });\n      this.setState({\n        editData: e\n      });\n      this.setState({\n        editFormGender: e[\"Gender\"]\n      });\n    };\n\n    this.handleFormClose = () => {\n      console.log(\"clicked1\");\n      this.setState({\n        table: true\n      });\n    };\n\n    this.handleEditFormClose = () => {\n      console.log(\"clicked5\");\n      this.setState({\n        editForm: false\n      });\n    };\n\n    this.handleFormClose = () => {\n      console.log(\"clicked1\");\n      this.setState({\n        table: true\n      });\n    };\n\n    this.handleEmployeeEditUpdate = (info, newInfo) => {\n      newInfo.preventDefault();\n      let body = {\n        Email: newInfo.target[0].value,\n        // Password: newInfo.target[1].value,\n        Account: newInfo.target[1].value,\n        RoleID: newInfo.target[2].value,\n        Gender: this.state.editFormGender,\n        FirstName: newInfo.target[5].value,\n        MiddleName: newInfo.target[6].value,\n        LastName: newInfo.target[7].value,\n        DOB: newInfo.target[8].value,\n        ContactNo: newInfo.target[9].value,\n        EmployeeCode: newInfo.target[10].value,\n        DepartmentID: newInfo.target[11].value,\n        PositionID: newInfo.target[12].value,\n        DateOfJoining: moment().format(\"yyyy-mm-dd\"),\n        TerminateDate: newInfo.target[14].value\n      };\n      console.log(\"update\", body);\n      axios.put(process.env[\"REACT_APP_API_URL\"] + \"/api/employee/\" + info[\"_id\"], body, {\n        headers: {\n          authorization: localStorage.getItem(\"token\") || \"\"\n        }\n      }).then(res => {\n        this.setState({\n          table: false\n        });\n        this.setState({\n          table: true\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n      this.setState({\n        editForm: false\n      });\n    };\n\n    this.handleAddFormGenderChange = e => {\n      // console.log(e.currentTarget.value);\n      this.setState({\n        addFormGender: e.currentTarget.value\n      });\n    };\n\n    this.handleEditFormGenderChange = e => {\n      // console.log(e.currentTarget.value);\n      // console.log(\"ggggggggggggggggggggggggggggeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeennnnnnnnnnnnnnnnnnnnnnnnn\")\n      this.setState({\n        editFormGender: e.currentTarget.value\n      });\n    };\n  }\n\n  // redirectF=()=>{\n  // //  if(this.state.EmpInfo==true){\n  //   this.setState({EmpInfo:false})\n  //   console.log(\"rrrrrrrrrrrrrrrrrrrrrrrrrrrr\");\n  //   return <Redirect to=\"hr/employee/info\" />\n  // //  }\n  // }\n  render() {\n    // if (this.state.EmpInfo) {\n    //   this.setState({EmpInfo:false});\n    //   return <Redirect to=\"hr/employee/info\" />\n    // }\n    return React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/hr/employee\",\n      render: props => React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, this.state.table ? this.state.editForm ? React.createElement(EmployeeFormEdit, {\n        onEmployeeEditUpdate: this.handleEmployeeEditUpdate,\n        onFormEditClose: this.handleEditFormClose,\n        editData: this.state.editData,\n        onGenderChange: this.handleEditFormGenderChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }) : !this.state.EmpInfoBool ? React.createElement(EmployeeTable, {\n        onAddEmployee: this.handleAddEmployee,\n        onEditEmployee: this.handleEditEmployee,\n        onEmpInfo: this.handleEmpInfo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }) : React.createElement(EmployeeInfo, {\n        data: this.state.EmpInfo,\n        onBack: this.handleBack,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }) : React.createElement(EmployeeForm, {\n        onEmployeeSubmit: this.handleEmployeeSubmit,\n        onFormClose: this.handleFormClose,\n        onGenderChange: this.handleAddFormGenderChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/hr/employee/info/personal-info\",\n      render: props => React.createElement(PersonalInfo, {\n        data: this.state.EmpInfo,\n        back: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/hr/employee/info/education\",\n      render: props => React.createElement(Education, {\n        data: this.state.EmpInfo,\n        back: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/hr/employee/info/family-info\",\n      render: props => React.createElement(FamilyInfo, {\n        data: this.state.EmpInfo,\n        back: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/hr/employee/info/work-experience\",\n      render: props => React.createElement(WorkExperience, {\n        data: this.state.EmpInfo,\n        back: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Employee;","map":{"version":3,"sources":["/Users/shruthi/Documents/SEM_1/HR-Management-System/Frontend/src/component/Employee.jsx"],"names":["React","Component","axios","EmployeeTable","EmployeeForm","EmployeeFormEdit","EmployeeInfo","HashRouter","Router","Route","PersonalInfo","Education","FamilyInfo","WorkExperience","moment","Employee","state","table","editForm","editData","addFormGender","editFormGender","EmpInfo","EmpInfoBool","handleEmpInfo","e","console","log","setState","handleBack","handleEmployeeSubmit","event","preventDefault","target","value","body","Email","Password","Account","RoleID","Gender","FirstName","MiddleName","LastName","DOB","ContactNo","EmployeeCode","DepartmentID","DateOfJoining","format","TerminateDate","post","headers","authorization","localStorage","getItem","then","res","catch","err","handleAddEmployee","handleEditEmployee","handleFormClose","handleEditFormClose","handleEmployeeEditUpdate","info","newInfo","PositionID","put","process","env","handleAddFormGenderChange","currentTarget","handleEditFormGenderChange","render","props"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Employee.css\";\nimport axios from \"axios\";\nimport EmployeeTable from \"./EmployeeTable.jsx\";\nimport EmployeeForm from \"./EmployeeForm.jsx\";\nimport EmployeeFormEdit from \"./EmployeeFormEdit.jsx\";\nimport EmployeeInfo from \"./EmployeeInfo.jsx\";\nimport { HashRouter as Router, Route } from \"react-router-dom\";\nimport PersonalInfo from \"./employee/PersonalInfo.jsx\";\nimport Education from \"./employee/Education.jsx\";\nimport FamilyInfo from \"./employee/FamilyInfo.jsx\";\nimport WorkExperience from \"./employee/WorkExperience.jsx\";\n//import { MongooseDocument } from \"mongoose\";\nimport moment from 'moment'\n\n\n\n\n\n\nclass Employee extends Component {\n  state = {\n    table: true,\n    editForm: false,\n    editData: {},\n    addFormGender: \"\",\n    editFormGender: \"\",\n    EmpInfo: {},\n    EmpInfoBool: false,\n\n  };\n  // redirectF=()=>{\n  // //  if(this.state.EmpInfo==true){\n  //   this.setState({EmpInfo:false})\n  //   console.log(\"rrrrrrrrrrrrrrrrrrrrrrrrrrrr\");\n  //   return <Redirect to=\"hr/employee/info\" />\n  // //  }\n  // }\n\n  render() {\n    // if (this.state.EmpInfo) {\n    //   this.setState({EmpInfo:false});\n    //   return <Redirect to=\"hr/employee/info\" />\n    // }\n\n    return (\n      <Router>\n        <Route\n          exact\n          path=\"/hr/employee\"\n          render={props =>\n            <React.Fragment>\n              {/* {this.redirectF} */}\n              {/* {this.state.EmpInfo?this.redirectF:<React.Fragment />} */}\n              {this.state.table ? (\n                this.state.editForm ? (\n                  <EmployeeFormEdit\n                    onEmployeeEditUpdate={this.handleEmployeeEditUpdate}\n                    onFormEditClose={this.handleEditFormClose}\n                    editData={this.state.editData}\n                    onGenderChange={this.handleEditFormGenderChange}\n                  />\n                ) : (\n\n\n                    !this.state.EmpInfoBool ? <EmployeeTable\n                      onAddEmployee={this.handleAddEmployee}\n                      onEditEmployee={this.handleEditEmployee}\n                      onEmpInfo={this.handleEmpInfo}\n                    /> : <EmployeeInfo data={this.state.EmpInfo} onBack={this.handleBack} />\n\n                  )\n              ) : (\n                  <EmployeeForm\n                    onEmployeeSubmit={this.handleEmployeeSubmit}\n                    onFormClose={this.handleFormClose}\n                    onGenderChange={this.handleAddFormGenderChange}\n                  />\n                )}\n            </React.Fragment>\n          }\n        />\n\n        {/* <Route\n                   exact\n                   path=\"/hr/employee/info\"\n                   render={props => <EmployeeInfo data={this.state.EmpInfo} onBack={this.handleBack}/>}\n                 /> */}\n        <Route\n          exact\n          path=\"/hr/employee/info/personal-info\"\n          render={props => <PersonalInfo data={this.state.EmpInfo} back={true} />}\n        />\n        <Route\n          exact\n          path=\"/hr/employee/info/education\"\n          render={props => <Education data={this.state.EmpInfo} back={true} />}\n        />\n        <Route\n          exact\n          path=\"/hr/employee/info/family-info\"\n          render={props => <FamilyInfo data={this.state.EmpInfo} back={true} />}\n        />\n        <Route\n          exact\n          path=\"/hr/employee/info/work-experience\"\n          render={props => <WorkExperience data={this.state.EmpInfo} back={true} />}\n        />\n\n\n      </Router>\n    );\n  }\n  handleEmpInfo = e => {\n    console.log(\"info\", e);\n    // history.push(\"/hr/employee/form-edit\");\n    this.setState({ EmpInfo: e });\n    this.setState({ EmpInfoBool: true })\n  };\n  handleBack = () => {\n    console.log(\"back\");\n    this.setState({ EmpInfoBool: false })\n  };\n  handleEmployeeSubmit = event => {\n    console.log(\"handleEmployee\")\n    event.preventDefault();\n    console.log(\"id\", event.target[0].value, event.target[1].value);\n    this.setState({ table: true });\n\n    let body = {\n      Email: event.target[0].value,\n      Password: event.target[1].value,\n      Account: event.target[2].value,\n      RoleID: event.target[3].value,\n      Gender: this.state.addFormGender,\n      FirstName: event.target[6].value,\n      MiddleName: event.target[7].value,\n      LastName: event.target[8].value,\n      DOB: event.target[9].value,\n      ContactNo: event.target[10].value,\n      EmployeeCode: event.target[11].value,\n      DepartmentID: event.target[12].value,\n      //PositionID: event.target[13].value,\n      DateOfJoining: moment().format(\"YYYY-MM-DD\"),\n      TerminateDate: event.target[15].value,\n    };\n    axios\n      .post(\"http://localhost:4000\" + \"/api/employee\", body, {\n        headers: {\n          authorization: localStorage.getItem(\"token\") || \"\"\n        }\n      })\n      .then(res => {\n        console.log(\"result from post\",res)\n        this.setState({ table: false });\n        this.setState({ table: true });\n      })\n      .catch(err => {\n        console.log(\"Errr from post\",err);\n      });\n  };\n  handleAddEmployee = () => {\n    console.log(\"clicked1\");\n    this.setState({ table: false });\n  };\n  handleEditEmployee = e => {\n    console.log(e);\n    console.log(\"clicked6\");\n    this.setState({ editForm: true });\n    this.setState({ editData: e });\n    this.setState({ editFormGender: e[\"Gender\"] })\n  };\n  handleFormClose = () => {\n    console.log(\"clicked1\");\n    this.setState({ table: true });\n  };\n  handleEditFormClose = () => {\n    console.log(\"clicked5\");\n    this.setState({ editForm: false });\n  };\n  handleFormClose = () => {\n    console.log(\"clicked1\");\n    this.setState({ table: true });\n  };\n  handleEmployeeEditUpdate = (info, newInfo) => {\n    newInfo.preventDefault();\n    let body = {\n      Email: newInfo.target[0].value,\n      // Password: newInfo.target[1].value,\n      Account: newInfo.target[1].value,\n      RoleID: newInfo.target[2].value,\n      Gender: this.state.editFormGender,\n      FirstName: newInfo.target[5].value,\n      MiddleName: newInfo.target[6].value,\n      LastName: newInfo.target[7].value,\n      DOB: newInfo.target[8].value,\n      ContactNo: newInfo.target[9].value,\n      EmployeeCode: newInfo.target[10].value,\n      DepartmentID: newInfo.target[11].value,\n      PositionID: newInfo.target[12].value,\n      DateOfJoining: moment().format(\"yyyy-mm-dd\"),\n      TerminateDate: newInfo.target[14].value,\n    };\n    console.log(\"update\", body);\n    axios\n      .put(\n        process.env[\"REACT_APP_API_URL\"]+ \"/api/employee/\" + info[\"_id\"],\n        body, {\n        headers: {\n          authorization: localStorage.getItem(\"token\") || \"\"\n        }\n      }\n      )\n      .then(res => {\n        this.setState({ table: false });\n        this.setState({ table: true });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n\n    this.setState({ editForm: false });\n  };\n  handleAddFormGenderChange = (e) => {\n    // console.log(e.currentTarget.value);\n    this.setState({\n      addFormGender: e.currentTarget.value\n    });\n\n  };\n  handleEditFormGenderChange = (e) => {\n    // console.log(e.currentTarget.value);\n    // console.log(\"ggggggggggggggggggggggggggggeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeennnnnnnnnnnnnnnnnnnnnnnnn\")\n    this.setState({\n      editFormGender: e.currentTarget.value\n    });\n\n  };\n}\n\nexport default Employee;\n\n"]},"metadata":{},"sourceType":"module"}